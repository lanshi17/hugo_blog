<!-- layouts/shortcodes/pdf-viewer.html -->
{{ $src := .Get "src" }}
{{ $width := .Get "width" | default "100%" }}
{{ $height := .Get "height" | default "calc(100vh - 100px)" }}

<div class="pdf-container" style="width: {{ $width }}; height: {{ $height }};">
  <iframe id="pdf-frame" src="{{ $src }}#toolbar=0&navpanes=0&scrollbar=0&statusbar=0&view=FitH&zoom=page-fit" width="100%" height="100%" frameborder="0">
    <p>无法显示 PDF 文件。</p>
  </iframe>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    var iframe = document.getElementById('pdf-frame');
    iframe.onload = function() {
      iframe.contentDocument.addEventListener('contextmenu', function(e) {
        e.preventDefault();
      }, false);
    };
  });
</script>

<style>
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
  }
  .pdf-container {
    margin: 0;
    padding: 0;
    height: 100vh; /* Full viewport height */
  }
  .pdf-container iframe {
    width: 100%;
    height: 100%;
    border: none;
    overflow: hidden;
  }
  .pdf-container iframe::-webkit-scrollbar {
    display: none; /* Hide scrollbar for WebKit browsers */
  }
  .pdf-container iframe {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
</style>